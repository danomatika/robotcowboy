#N canvas 656 120 542 402 10;
#X obj 20 369 outlet~;
#X obj 21 173 inlet;
#X obj 135 262 \$0;
#X obj 135 237 bng 15 250 50 0 empty empty empty 0 -6 0 10 -262144
-1 -1;
#X obj 382 264 t f b;
#X text 378 217 Resize the data table;
#X obj 382 309 pack f f;
#X obj 412 286 \$0;
#X text 18 150 left inlet: midi floats and clear message;
#X msg 189 171 clear;
#X text 228 170 fills array with 0's;
#X text 176 106 uses sssad to save the table;
#X obj 5 51 cnv 15 150 90 empty empty empty 20 12 0 14 -233017 -66577
0;
#N canvas 0 0 450 300 (subpatch) 0;
#X array \$0-env 32 float 1;
#A 0 0.836007 0.836007 0.836007 0.836007 0.836007 0.824896 0.813784
0.813784 0.813784 0.747118 0.680451 0.647118 0.613784 0.56934 0.524895
0.480451 0.458228 0.402673 0.38045 0.336006 0.313784 0.291561 0.269339
0.224894 0.213783 0.191561 0.169339 0.147116 0.102672 0.0693384 0.036005
0.036005;
#X coords 0 1 31 0 150 90 1;
#X restore 5 50 graph;
#X msg 135 291 \; \$1-env const 0 \;;
#X msg 382 330 \; \$2-env resize \$1 \;;
#N canvas 52 379 545 597 play_env 0;
#X obj 16 16 inlet;
#X obj 222 564 outlet~;
#X obj 222 512 sig~;
#X obj 267 16 inlet;
#X obj 16 47 route float bang;
#X obj 16 77 t b f;
#X obj 82 190 moses 128;
#X obj 82 216 / 127;
#X obj 223 538 *~ 1;
#X text 305 16 duration;
#X text 55 17 bangs or velocities;
#X obj 43 282 sel 0;
#X obj 262 511 r \$0-amp;
#X obj 82 246 s \$0-amp;
#X msg 222 458 0;
#X obj 222 486 clip 0 1;
#X text 290 486 keep vals sane;
#X text 290 435 cutoff for zeroing;
#X obj 222 436 moses 0.05;
#X obj 222 404 tabread \$0-env;
#X obj 222 375 line;
#X msg 120 140 bang;
#X obj 338 55 loadbang;
#X obj 338 83 \$2;
#X obj 338 108 moses 1;
#X text 376 82 grab table size from \$2;
#X obj 222 227 f 32;
#X obj 267 226 f 500;
#X obj 222 275 pack f f;
#X msg 323 223 0;
#X text 359 222 reset line to 0;
#X msg 43 317 0 0;
#X obj 43 164 moses 1;
#X msg 183 128 stop;
#X obj 62 106 t b b;
#X text 70 316 stop on note off (vel 0);
#X text 100 98 stop prev note and retrigger;
#X text 266 374 line plays through table;
#X text 343 249 send out a zero to cover first;
#X text 344 269 tab value;
#X obj 323 188 delay 500;
#X connect 0 0 4 0;
#X connect 2 0 8 0;
#X connect 3 0 27 0;
#X connect 3 0 40 1;
#X connect 4 0 5 0;
#X connect 4 1 34 0;
#X connect 5 0 34 0;
#X connect 5 1 32 0;
#X connect 6 0 7 0;
#X connect 7 0 13 0;
#X connect 8 0 1 0;
#X connect 11 0 31 0;
#X connect 12 0 8 1;
#X connect 14 0 15 0;
#X connect 15 0 2 0;
#X connect 18 0 14 0;
#X connect 18 1 15 0;
#X connect 19 0 18 0;
#X connect 20 0 19 0;
#X connect 21 0 26 0;
#X connect 22 0 23 0;
#X connect 23 0 24 0;
#X connect 24 1 26 1;
#X connect 26 0 28 0;
#X connect 27 0 28 1;
#X connect 28 0 20 0;
#X connect 29 0 20 0;
#X connect 29 0 18 0;
#X connect 31 0 20 0;
#X connect 32 0 11 0;
#X connect 32 1 6 0;
#X connect 33 0 29 0;
#X connect 33 0 40 0;
#X connect 34 0 21 0;
#X connect 34 1 33 0;
#X connect 40 0 29 0;
#X restore 21 328 pd play_env;
#X obj 21 209 route bang float dur clear;
#X text 176 38 drag and create the envelope by drawing on the array
with the mouse;
#X text 175 15 envelope w/ gui \, outputs signal 0 - 1;
#X obj 82 19 hsl 70 15 0 1 0 0 \$0-amp \$0-amp empty -2 -6 0 10 -228856
-1 -1 3400 1;
#X obj 38 20 nbx 3 14 0 1 0 0 \$0-amp \$0-amp amp -20 6 0 10 -261234
-1 -1 0.492754 256;
#N canvas 0 0 356 197 state_saving 0;
#N canvas 79 547 488 423 save 0;
#X obj 58 10 r SSSAD_SAVE;
#X obj 53 333 list prepend;
#X obj 146 333 t l;
#X obj 30 362 list;
#X obj 30 386 outlet;
#X obj 100 138 until;
#X obj 100 161 f;
#X obj 130 161 + 1;
#X msg 145 138 0;
#X obj 58 36 t b b b b;
#X obj 100 115 35;
#X text 175 111 table size;
#X obj 123 79 + 3;
#X text 156 79 multiple of 4 + 3;
#X obj 100 186 tabread4 \$0-env;
#X text 164 208 read out envtable to list;
#N canvas 0 0 450 300 table_size 0;
#X obj 43 38 loadbang;
#X obj 43 66 \$2;
#X obj 43 91 moses 1;
#X text 81 65 grab table size from \$2;
#X obj 82 125 outlet;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 1 4 0;
#X restore 123 45 pd table_size;
#X connect 0 0 9 0;
#X connect 1 0 2 0;
#X connect 1 0 3 1;
#X connect 2 0 1 1;
#X connect 3 0 4 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 6 0 14 0;
#X connect 7 0 6 1;
#X connect 8 0 6 1;
#X connect 9 0 1 1;
#X connect 9 1 3 0;
#X connect 9 2 10 0;
#X connect 9 3 8 0;
#X connect 10 0 5 0;
#X connect 12 0 10 1;
#X connect 14 0 1 0;
#X connect 16 0 12 0;
#X restore 149 24 pd save;
#N canvas 565 224 459 282 load 0;
#X obj 40 6 inlet;
#X obj 40 65 until;
#X obj 40 92 list append;
#X obj 133 121 bang;
#X obj 40 121 list split 1;
#X obj 200 186 f;
#X obj 230 186 + 1;
#X msg 216 164 0;
#X obj 40 147 t f b;
#X obj 40 32 t b l b;
#X obj 40 225 tabwrite \$0-env;
#X text 116 31 write incoming list to env table;
#X connect 0 0 9 0;
#X connect 1 0 2 0;
#X connect 2 0 4 0;
#X connect 3 0 1 1;
#X connect 4 0 8 0;
#X connect 4 1 2 1;
#X connect 4 2 3 0;
#X connect 5 0 6 0;
#X connect 5 0 10 1;
#X connect 6 0 5 1;
#X connect 7 0 5 1;
#X connect 8 0 10 0;
#X connect 8 1 5 0;
#X connect 9 0 1 0;
#X connect 9 1 2 1;
#X connect 9 2 7 0;
#X restore 14 70 pd load;
#X text 16 24 sssad state saving;
#X obj 14 46 sssad/sssad \$1/envtable;
#X obj 85 99 sssad/sssad \$1/amp;
#X obj 190 77 r \$0-amp;
#X obj 85 121 s \$0-amp;
#X connect 0 0 3 1;
#X connect 3 0 1 0;
#X connect 4 0 6 0;
#X connect 5 0 4 1;
#X restore 244 367 pd state_saving;
#X text 175 80 creation args: name \, envtable size (default is 32)
;
#N canvas 0 0 450 300 table_size 0;
#X obj 43 38 loadbang;
#X obj 43 66 \$2;
#X obj 43 91 moses 1;
#X text 81 65 grab table size from \$2;
#X obj 82 125 outlet;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 1 4 0;
#X restore 382 237 pd table_size;
#N canvas 0 0 450 300 defaults 0;
#X obj 78 76 outlet;
#X obj 78 19 loadbang;
#X msg 78 48 dur 500;
#X msg 185 51 0.5;
#X obj 185 78 s \$0-amp;
#X connect 1 0 2 0;
#X connect 1 0 3 0;
#X connect 2 0 0 0;
#X connect 3 0 4 0;
#X restore 68 182 pd defaults;
#X connect 1 0 17 0;
#X connect 2 0 14 0;
#X connect 3 0 2 0;
#X connect 4 0 6 0;
#X connect 4 1 7 0;
#X connect 6 0 15 0;
#X connect 7 0 6 1;
#X connect 16 0 0 0;
#X connect 17 0 16 0;
#X connect 17 1 16 0;
#X connect 17 2 16 1;
#X connect 17 3 3 0;
#X connect 24 0 4 0;
#X connect 25 0 17 0;
#X coords 0 -1 1 1 160 145 1 0 0;
