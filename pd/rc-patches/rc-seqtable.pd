#N canvas 526 582 823 373 10;
#X obj 298 147 inlet;
#X obj 654 330 outlet;
#X obj 575 123 r \$0-reset;
#X obj 11 149 loadbang;
#X obj 11 176 f \$1;
#X obj 672 124 inlet;
#X obj 6 288 pack f f;
#X obj 51 262 f \$0;
#X obj 745 144 r \$0-size;
#X obj 68 230 s \$0-size;
#X obj 235 277 spigot;
#X obj 272 250 tgl 15 0 empty empty empty 0 -6 0 8 -262144 -1 -1 0
1;
#X obj 235 313 print sequence;
#N canvas 676 298 513 657 combobulate 0;
#X obj 137 40 inlet;
#X obj 90 631 outlet;
#X obj 141 558 sort 0;
#X obj 90 584 switch 2;
#X obj 172 436 r \$0-size;
#X obj 36 540 r \$0-order;
#X obj 115 200 switch 2;
#X obj 44 135 r \$0-flip;
#X text 17 13 mess with the incoming pitches;
#X text 209 122 flip the notes;
#X obj 137 102 spigot;
#X obj 170 74 r \$0-listen;
#X text 258 74 listen?;
#X text 252 438 build a list;
#X text 252 532 sort;
#X obj 178 532 r \$0-sort;
#X obj 115 463 list-lastx;
#X obj 115 493 list-rev;
#X text 184 494 change LIFO to FIFO;
#X obj 177 311 timer;
#X msg 123 338 reset;
#X obj 177 253 count 2;
#X obj 177 278 sel 0 1;
#X obj 242 340 r \$0-timeout;
#X msg 123 398 bang;
#X msg 177 225 bang;
#X text 169 398 reset list if timeout reached between last note events
;
#X text 225 311 get duration between incoming notes;
#X text 228 225 check timeout;
#X obj 177 365 moses 1000;
#X obj 160 143 rc-noteflip;
#X connect 0 0 10 0;
#X connect 2 0 3 2;
#X connect 3 0 1 0;
#X connect 4 0 16 1;
#X connect 5 0 3 0;
#X connect 6 0 16 0;
#X connect 6 0 25 0;
#X connect 7 0 6 0;
#X connect 10 0 6 1;
#X connect 10 0 30 0;
#X connect 11 0 10 1;
#X connect 15 0 2 1;
#X connect 16 0 17 0;
#X connect 17 0 2 0;
#X connect 17 0 3 1;
#X connect 19 0 29 0;
#X connect 20 0 21 0;
#X connect 21 0 22 0;
#X connect 22 0 19 0;
#X connect 22 1 19 1;
#X connect 23 0 29 1;
#X connect 24 0 20 0;
#X connect 24 0 16 1;
#X connect 25 0 21 0;
#X connect 29 1 24 0;
#X connect 30 0 6 2;
#X restore 298 204 pd combobulate;
#N canvas 552 205 978 346 input 0;
#X obj 7 267 clip 0 127;
#X obj 602 163 tgl 15 1 empty empty empty 0 -6 0 8 -262144 -1 -1 1
1;
#X obj 91 118 s \$0-reset;
#X obj 602 199 s \$0-listen;
#X msg 668 135 0;
#X msg 602 136 1;
#X msg 173 120 0;
#X msg 213 120 -1;
#X msg 253 161 1;
#X msg 213 161 2;
#X obj 270 107 loadbang;
#X obj 213 201 s \$0-order;
#X obj 173 81 route asc dsc norm;
#X obj 362 180 s \$0-rev;
#X msg 362 133 1;
#X msg 413 133 2;
#X obj 464 181 s \$0-flip;
#X obj 535 108 loadbang;
#X msg 464 135 1;
#X msg 515 134 2;
#X obj 362 82 route fwd back noinvert invert;
#X obj 362 22 inlet;
#X obj 7 311 outlet;
#X obj 173 225 s \$0-sort;
#X text 112 24 HANDLE THE INPUTS;
#X text 86 268 clip bad floats;
#X obj 56 157 iter;
#X text 52 196 split any lists;
#X obj 7 80 route float list reset;
#X obj 26 217 route f;
#X obj 716 225 s \$0-timeout;
#X obj 734 113 loadbang;
#X obj 734 142 f \$2;
#X obj 734 165 sel 0;
#X msg 734 194 1000;
#X obj 602 82 route listen nolisten timeout clear;
#X obj 819 156 \$0;
#X msg 819 183 \; \$1-notes const 0;
#X msg 819 128 bang;
#X connect 0 0 22 0;
#X connect 1 0 3 0;
#X connect 4 0 1 0;
#X connect 5 0 1 0;
#X connect 6 0 9 0;
#X connect 6 0 23 0;
#X connect 7 0 9 0;
#X connect 7 0 23 0;
#X connect 8 0 11 0;
#X connect 9 0 11 0;
#X connect 10 0 8 0;
#X connect 10 0 14 0;
#X connect 12 0 6 0;
#X connect 12 1 7 0;
#X connect 12 2 8 0;
#X connect 14 0 13 0;
#X connect 15 0 13 0;
#X connect 17 0 18 0;
#X connect 17 0 5 0;
#X connect 18 0 16 0;
#X connect 19 0 16 0;
#X connect 20 0 14 0;
#X connect 20 1 15 0;
#X connect 20 2 18 0;
#X connect 20 3 19 0;
#X connect 21 0 20 0;
#X connect 21 0 12 0;
#X connect 21 0 28 0;
#X connect 21 0 35 0;
#X connect 26 0 29 0;
#X connect 28 0 0 0;
#X connect 28 1 26 0;
#X connect 28 2 2 0;
#X connect 29 0 0 0;
#X connect 31 0 32 0;
#X connect 32 0 33 0;
#X connect 33 0 34 0;
#X connect 33 1 30 0;
#X connect 34 0 30 0;
#X connect 35 0 5 0;
#X connect 35 1 4 0;
#X connect 35 2 30 0;
#X connect 35 3 38 0;
#X connect 36 0 37 0;
#X connect 38 0 36 0;
#X restore 298 176 pd input;
#X obj 729 241 abs;
#X obj 654 267 switch;
#X obj 745 180 - 1;
#X obj 729 214 -;
#X obj 601 233 r \$0-rev;
#X text 287 279 debug;
#X text 369 176 handle input;
#X text 408 204 screw with notes;
#X text 77 195 sequence size;
#X text 77 303 resize table;
#X text 583 194 PLAYBACK;
#X text 494 330 outlet : note sequence;
#X text 226 191 MAIN;
#X text 6 127 INIT VALUES;
#X text 435 242 write to table;
#X text 652 107 left : clock bangs;
#X msg 575 148 reset;
#X text 239 127 right : notes \, note lists \, & controls msgs;
#X obj 654 300 tabread \$0-notes;
#X obj 298 240 tabset \$0-notes;
#X text 183 10 sequence table \, records a sequence of midi notes;
#X text 214 58 Creation args: seq length \, ms timeout;
#X obj 672 180 rc-count 16;
#X obj 1 14 cnv 15 158 103 empty empty empty 20 12 0 14 -191407 -66577
0;
#X obj 5 26 cnv 15 150 90 empty empty empty 20 12 0 14 -261234 -66577
0;
#N canvas 0 0 450 300 (subpatch) 0;
#X array \$0-notes 16 float 2;
#X coords 0 127 16 0 150 90 1;
#X restore 5 26 graph;
#X obj 11 200 sel 0;
#X obj 6 235 t f b;
#X msg 6 320 \; \$2-notes resize \$1 \;;
#X connect 0 0 14 0;
#X connect 2 0 31 0;
#X connect 3 0 4 0;
#X connect 4 0 41 0;
#X connect 5 0 37 0;
#X connect 6 0 43 0;
#X connect 7 0 6 1;
#X connect 8 0 17 0;
#X connect 8 0 37 1;
#X connect 10 0 12 0;
#X connect 11 0 10 1;
#X connect 13 0 10 0;
#X connect 13 0 34 0;
#X connect 14 0 13 0;
#X connect 15 0 16 2;
#X connect 16 0 33 0;
#X connect 17 0 18 1;
#X connect 18 0 15 0;
#X connect 19 0 16 0;
#X connect 31 0 37 0;
#X connect 33 0 1 0;
#X connect 37 0 18 0;
#X connect 37 0 16 1;
#X connect 41 1 9 0;
#X connect 41 1 42 0;
#X connect 42 0 6 0;
#X connect 42 1 7 0;
#X coords 0 -1 1 1 160 120 1 0 0;
