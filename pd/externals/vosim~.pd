#N canvas 356 56 775 684 10;
#X obj 138 493 cos~;
#X obj 139 524 *~;
#X obj 137 392 wrap~;
#X obj 137 466 -~ 0.25;
#X obj 140 549 *~;
#X obj 180 509 samphold~;
#X obj 137 437 *~ 0.5;
#X obj 237 475 wrap~;
#X obj 137 342 *~;
#X obj 422 433 *~;
#X obj 423 406 clip~ 0 1;
#X obj 320 65 inlet;
#X obj 139 573 outlet~;
#X obj 484 353 *~;
#X obj 320 112 max 1;
#X obj 137 372 clip~ 0 1;
#X text 503 43 b;
#X text 329 46 N;
#X obj 320 87 int;
#X obj 136 261 phasor~;
#X text 97 128 M + NT;
#X text 470 384 damping;
#X obj 423 459 *~;
#X text 378 485 quadric decay (this is a somewhat arbitrary choice)
;
#X obj 152 125 +~;
#X obj 237 65 inlet~;
#X obj 153 65 inlet~;
#X obj 153 317 /~;
#X obj 118 229 /~;
#X obj 119 208 sig~ 1;
#X text 100 341 [f1];
#X text 81 609 The stretched phasor [f1] needs to run at f1 = 1/T all
the time. It is derived from a phasor at f0 = 1/(NT+M) so the stretch/multiplication
factor x needs to be calculated according to the following:;
#X text 84 675 f1 = x * f0 ==> 1/T = x * 1/(M + NT) ==> x = (M + NT)/T
;
#X obj 501 62 inlet~;
#X text 36 230 sec => Hz;
#X text 241 43 T (sec);
#X text 153 40 M (sec);
#X text 31 263 f0 = 1/(M+NT);
#X text 23 316 x = (M + NT)/T;
#X obj 169 101 *~ 1;
#X text 316 154 changes of N should be [samphold~]ed but this would
generate a DSP loop in Pd.;
#X obj 425 355 sig~ 1;
#X obj 424 381 -~;
#X text 182 531 This gives artifacts for certain combinations of M
and T \, if b != 0 \, duh.;
#N canvas 0 0 432 350 sigview 0;
#N canvas 0 0 450 300 (subpatch) 0;
#X array \$0-scope 882 float 0;
#X coords 0 1 881 -1 200 140 1;
#X restore 98 60 graph;
#X obj 65 285 tabwrite~ \$0-scope;
#X msg 127 246 bang;
#X obj 171 248 metro 100;
#X obj 171 227 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 66 239 inlet~;
#X connect 2 0 1 0;
#X connect 3 0 1 0;
#X connect 4 0 3 0;
#X connect 5 0 1 0;
#X restore 630 633 pd sigview;
#X obj 137 414 wrap~;
#X connect 0 0 1 0;
#X connect 0 0 1 1;
#X connect 1 0 4 0;
#X connect 2 0 45 0;
#X connect 3 0 0 0;
#X connect 4 0 12 0;
#X connect 5 0 4 1;
#X connect 6 0 3 0;
#X connect 7 0 5 1;
#X connect 8 0 7 0;
#X connect 8 0 15 0;
#X connect 9 0 22 0;
#X connect 9 0 22 1;
#X connect 10 0 9 0;
#X connect 10 0 9 1;
#X connect 11 0 18 0;
#X connect 13 0 42 1;
#X connect 14 0 15 2;
#X connect 14 0 39 1;
#X connect 15 0 2 0;
#X connect 18 0 14 0;
#X connect 19 0 8 0;
#X connect 19 0 13 0;
#X connect 22 0 5 0;
#X connect 24 0 27 0;
#X connect 24 0 28 1;
#X connect 25 0 27 1;
#X connect 25 0 39 0;
#X connect 26 0 24 0;
#X connect 27 0 8 1;
#X connect 28 0 19 0;
#X connect 29 0 28 0;
#X connect 33 0 13 1;
#X connect 39 0 24 1;
#X connect 41 0 42 0;
#X connect 42 0 10 0;
#X connect 45 0 6 0;
