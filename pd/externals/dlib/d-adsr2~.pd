#N canvas 0 22 1010 719 10;
#X obj 105 111 inlet;
#X obj 435 151 inlet;
#X text 101 86 trigger;
#X obj 105 139 sel 0;
#X obj 166 264 f \$1;
#X obj 166 289 pack 0 \$2;
#X obj 492 151 inlet;
#X obj 438 281 del \$2;
#X obj 457 409 line~;
#X obj 462 304 f \$4;
#X obj 554 151 inlet;
#X obj 616 151 inlet;
#X obj 689 150 inlet;
#X msg 105 170 stop;
#X obj 672 306 pack 0 \$5;
#X text 435 129 level;
#X obj 461 516 outlet~;
#X text 102 378 and pack with;
#X text 103 398 attack time;
#X text 31 126 if zero;
#X text 32 143 release;
#X text 12 160 and cancel;
#X text 43 177 decay;
#X text 284 272 on attack \, set a;
#X text 278 305 recall sustain value;
#X text 315 378 pack with decay time;
#X text 665 332 on release ramp;
#X text 666 349 back to zero;
#X obj 462 329 * 0.01;
#X text 47 567 Objects such as "f" and "pack" can be given dollar sign
arguments to initialize their contents from adsr's creation arguments.
Inlets are supplied to change them on the fly.;
#X text 13 2 ADSR ENVELOPE;
#X text 488 129 attack;
#X text 555 128 decay;
#X text 609 129 sustain;
#X text 686 129 release;
#X text 202 71 attack;
#X obj 194 122 t b b;
#X msg 128 290 0;
#X text 20 273 optionally;
#X text 10 291 bash to zero;
#X text 25 246 ATTACK:;
#X text 49 477 When you send this patch a positive trigger it schedules
a line~ to do an attack and decay \, and if zero \, it starts the release
ramp.;
#X text 45 629 Updated for Pd version 0.37;
#X text 265 89 test for negative trigger;
#X text 242 113 if so \, zero;
#X text 243 129 the output;
#X text 294 165 in any case;
#X text 303 355 multiply by peak level;
#X text 280 286 delay for sustain;
#X text 276 328 convert from percent;
#X text 155 340 ... then;
#X text 103 359 recall peak level;
#X text 439 113 peak;
#X text 297 149 ... do this;
#X text 47 529 Negative triggers cause the output to jump to zero and
then attack (instead of attacking from the current location).;
#X text 208 1 Arguments: level \, attack time \, decay time \, sustain
level \, release time. A \, D \, and R are in msec and S is in percent.
This patch is used as an abstraction in various examples.;
#X text 607 119 PERCENT;
#X text 570 577 adopted from Pd docs;
#X text 627 592 part of dlib;
#X text 376 658 released under the GNU General Public License v3+;
#X text 509 619 copyright damian stewart 2008;
#X text 473 633 damian@frey.co.nz | www.frey.co.nz;
#X obj 204 92 moses 0;
#X obj 250 155 t b a;
#X obj 535 516 outlet;
#X text 584 514 for switch~;
#X obj 455 475 d-lin-to-exp~;
#X obj 686 408 del \$5;
#X msg 682 384 bang;
#X msg 573 480 0;
#X msg 528 482 1;
#X obj 601 354 line~;
#X msg 602 333 1 \, 0 \$1;
#X obj 602 374 d-lin-to-exp~;
#X obj 623 397 d-1-;
#X obj 602 284 t b a;
#X obj 456 449 +~;
#X obj 602 309 f \$3;
#X obj 602 417 *~ 1;
#X obj 602 442 *~ 1;
#X obj 852 478 line;
#X obj 852 499 d-lin-to-exp;
#X obj 852 542 * 1;
#X obj 852 564 * 1;
#X obj 867 521 d-1-;
#X obj 840 588 t b a;
#X obj 840 612 + 0;
#X obj 840 664 outlet;
#X text 846 461 external line;
#X obj 840 638 d-lin-to-exp;
#X obj 832 437 spigot \$6;
#X obj 776 582 line;
#X obj 776 551 spigot \$6;
#X text 820 397 \$6==1 to enable line output;
#X connect 0 0 3 0;
#X connect 1 0 4 1;
#X connect 1 0 79 1;
#X connect 1 0 83 1;
#X connect 3 0 13 0;
#X connect 3 0 14 0;
#X connect 3 1 62 0;
#X connect 4 0 5 0;
#X connect 4 0 83 1;
#X connect 4 0 79 1;
#X connect 5 0 8 0;
#X connect 5 0 70 0;
#X connect 5 0 92 0;
#X connect 6 0 5 1;
#X connect 6 0 7 1;
#X connect 7 0 9 0;
#X connect 8 0 76 0;
#X connect 9 0 28 0;
#X connect 10 0 77 1;
#X connect 11 0 9 1;
#X connect 12 0 14 1;
#X connect 12 0 67 1;
#X connect 13 0 7 0;
#X connect 14 0 8 0;
#X connect 14 0 68 0;
#X connect 14 0 92 0;
#X connect 28 0 8 0;
#X connect 28 0 75 0;
#X connect 28 0 92 0;
#X connect 36 0 63 0;
#X connect 36 1 37 0;
#X connect 37 0 8 0;
#X connect 37 0 69 0;
#X connect 37 0 92 0;
#X connect 62 0 36 0;
#X connect 62 1 63 0;
#X connect 63 0 4 0;
#X connect 63 0 7 0;
#X connect 63 1 4 1;
#X connect 66 0 16 0;
#X connect 67 0 69 0;
#X connect 68 0 67 0;
#X connect 69 0 64 0;
#X connect 70 0 64 0;
#X connect 71 0 73 0;
#X connect 72 0 71 0;
#X connect 72 0 90 0;
#X connect 73 0 78 0;
#X connect 74 0 78 1;
#X connect 75 0 77 0;
#X connect 75 1 74 0;
#X connect 75 1 84 0;
#X connect 76 0 66 0;
#X connect 77 0 72 0;
#X connect 78 0 79 0;
#X connect 79 0 76 1;
#X connect 80 0 81 0;
#X connect 81 0 82 0;
#X connect 82 0 83 0;
#X connect 83 0 85 0;
#X connect 84 0 82 1;
#X connect 85 0 86 0;
#X connect 85 1 86 1;
#X connect 86 0 89 0;
#X connect 89 0 87 0;
#X connect 90 0 80 0;
#X connect 91 0 86 0;
#X connect 92 0 91 0;
